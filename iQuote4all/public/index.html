<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MindShift Books | eBook Store</title>
  <meta name="description" content="MindShift Books — Transformative eBooks. Instant delivery after payment." />
  <link rel="icon" href="/images/MINDSHIFT.jpg" />

  <!-- Fonts & icons -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <style>
    :root{ --primary:#0f172a; --accent:#06b6d4; --bg:#f8fafc; }
    *{box-sizing:border-box;margin:0;padding:0;font-family:'Inter',sans-serif}
    body{background:linear-gradient(180deg,#f8fafc 0%, #eef2f7 100%);min-height:100vh;color:var(--primary)}
    header{position:fixed;top:0;left:0;right:0;padding:16px 26px;background:white;display:flex;justify-content:space-between;align-items:center;z-index:1000;box-shadow:0 2px 12px rgba(0,0,0,0.06)}
    header h1{font-size:1.45rem;font-weight:700;color:var(--primary);display:flex;align-items:center;gap:10px}
    .hamburger{font-size:1.3rem;cursor:pointer;color:#1e293b}
    .sidebar{position:fixed;top:0;left:-280px;width:260px;height:100%;background:#1f2937;padding-top:80px;transition:.45s;z-index:999;border-right:1px solid rgba(255,255,255,0.04)}
    .sidebar ul{list-style:none}
    .sidebar li{padding:18px 26px;color:white;font-size:1.05rem;cursor:pointer;font-weight:600;border-bottom:1px solid rgba(255,255,255,0.06)}
    main{padding:120px 20px 120px;max-width:1100px;margin:0 auto}

    /* product grid */
    .product-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:18px}
    .product-card{background:white;padding:18px;border-radius:14px;box-shadow:0 18px 40px rgba(0,0,0,0.06);display:flex;flex-direction:column;align-items:center;gap:12px}

    /* smaller hardcover */
    .ebook-cover{width:160px;height:220px;object-fit:cover;border-radius:8px;box-shadow:0 10px 24px rgba(15,23,42,0.06)}

    .title{font-weight:700;text-align:center}
    .price{font-weight:800;font-size:1.05rem}
    .btn{padding:10px 16px;border-radius:10px;border:none;font-weight:700;cursor:pointer}
    .buy-btn{background:linear-gradient(90deg,#4f46e5,#06b6d4);color:white}
    .review-btn{border:2px solid rgba(15,23,42,0.06);background:white;color:var(--primary)}

    .muted{font-size:.9rem;color:#6b7280}
    .modal-backdrop{position:fixed;inset:0;display:none;background:rgba(2,6,23,0.45);justify-content:center;align-items:center;z-index:2000}
    .modal{background:white;width:420px;max-width:92%;padding:22px;border-radius:14px}

    footer{margin-top:40px;background:#0f172a;padding:24px;border-radius:14px;display:flex;justify-content:space-between;color:white}

    /* small utilities */
    .center{display:flex;align-items:center;justify-content:center}
    .loader { border:4px solid rgba(0,0,0,0.06); border-top:4px solid var(--accent); border-radius:50%; width:32px; height:32px; animation:spin 1s linear infinite; }
    @keyframes spin{ to { transform:rotate(360deg);} }

    @media (max-width: 520px) {
      .ebook-cover { width: 120px; height: 165px; }
      header h1 { font-size: 1.05rem; }
      .product-card { padding: 12px; }
    }
  </style>
</head>
<body>

<header>
  <h1>
    <img src="/images/MINDSHIFT.jpg" alt="MindShift logo" style="width:36px;height:36px;border-radius:6px;">
    MindShift Books
  </h1>
  <div class="hamburger" onclick="toggleSidebar()" aria-label="Open menu" role="button"><i class="fas fa-bars"></i></div>
</header>

<aside class="sidebar" id="sidebar" aria-hidden="true">
  <ul>
    <li onclick="openMyOrders()">My Order</li>
    <li onclick="openContact()">Contact Us</li>
    <li onclick="followYoutube()">Follow us on YouTube</li>
  </ul>
</aside>

<main>
  <section class="hero" aria-labelledby="featured-h">
    <div style="margin-bottom:18px;display:flex;gap:18px;align-items:center;justify-content:space-between;flex-wrap:wrap">
      <div>
        <h2 id="featured-h" style="margin-bottom:6px">Featured Collections</h2>
        <div class="muted">Choose any eBook. Instant delivery after payment.</div>
      </div>

      <div style="display:flex;gap:8px;align-items:center;">
        <div class="muted" style="font-size:0.95rem">Brand: <strong>MindShift Books</strong></div>
      </div>
    </div>

    <!-- product grid -->
    <div id="productGrid" class="product-grid" aria-live="polite">
      <!-- Loading placeholder until JS renders -->
      <div class="center" style="grid-column: 1 / -1; padding:24px;">
        <div style="display:flex;gap:12px;align-items:center;">
          <div class="loader" aria-hidden="true"></div>
          <div class="muted">Loading books...</div>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div>
      <div style="font-weight:700;font-size:1.1rem;color:#fbbf24">MindShift Books</div>
      <div class="muted" style="color:white">Shift your thinking, change your life.</div>
    </div>

    <div style="text-align:right;color:white">
      <div>© 2025 MindShift Books</div>
      <div class="muted" style="color:white">All rights reserved</div>
    </div>
  </footer>
</main>

<!-- CHECKOUT MODAL -->
<div class="modal-backdrop" id="modalBackdrop" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="checkout-title">
    <h3 id="checkout-title" style="color:var(--primary);margin-bottom:6px;">Checkout</h3>
    <div class="muted">Book: <strong id="modalBookTitle">—</strong></div>
    <div style="margin-top:8px;font-weight:700;" id="modalPrice">Price: $0.00</div>

    <div class="field" style="margin-top:8px;">
      <label class="muted">Your name (optional)</label>
      <input id="buyerName" type="text" placeholder="Jane Doe" style="width:100%;padding:8px;margin-top:6px;border-radius:8px;border:1px solid #e6e9ee"/>
    </div>

    <div class="field" style="margin-top:8px;">
      <label class="muted">Enter your email (PDF will be sent here)</label>
      <input id="buyerEmail" type="email" placeholder="you@example.com" required style="width:100%;padding:8px;margin-top:6px;border-radius:8px;border:1px solid #e6e9ee"/>
    </div>

    <div style="display:flex;justify-content:flex-end;gap:10px;margin-top:12px;">
      <button class="btn review-btn" onclick="closeCheckoutModal()">Cancel</button>
      <button class="btn buy-btn" id="modalProceedBtn" onclick="proceedToPayment()">Proceed to Payment</button>
    </div>

    <div class="muted" style="margin-top:12px;">After payment you'll be redirected and the PDF will be emailed automaticall,or you can check MY ORDER section</div>
  </div>
</div>

<!-- Firebase + EmailJS + Main script -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="https://cdn.emailjs.com/sdk/3.2/email.min.js"></script>
<script src="/main.js"></script>

</body>
</html>
